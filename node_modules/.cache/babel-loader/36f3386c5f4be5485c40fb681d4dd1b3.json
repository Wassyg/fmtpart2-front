{"ast":null,"code":"import _classCallCheck from \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/FindMyTattooFront/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/FindMyTattooFront/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/FindMyTattooFront/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/FindMyTattooFront/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/FindMyTattooFront/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/FindMyTattooFront/src/Screens/ArtistPage.js\";\nimport React, { Component } from 'react'; //Import des composants externes\n\nimport NavBar from '../Components/NavBar.js';\nimport ArtistCard from '../Components/ArtistCard.js'; //Import des librairies ou composants de style\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Container, Row, Col } from 'reactstrap';\nimport '../Stylesheets/ArtistPage.css'; //Import de la librairie leaflet / open street map\n\nimport L from 'leaflet'; //// Simulation de base de données ////\n//Les coordonnées GPS ont été mises en dur dans la BDD pour des raisons d'asynchronicité du fetch. Il faudra fetcher les coordonnées GPS directement dans le back pour contourner ce problème\n\nvar ArtistDB = [{\n  artistNickname: \"Bichon\",\n  artistCompany: \"The Golden Rabbit Tattoo\",\n  artistPhotoLink: \"../../avatarsTatoueurs/11201563_749803451831654_737090053_a.jpg\",\n  artistAddress: \"16 Rue Geoffroy-Marie, 75009 Paris\",\n  artistStyle: [\"Japopnais\", \"Postmodern\"],\n  artistAddressLat: 48.873806,\n  artistAddressLon: 2.344659\n}, {\n  artistNickname: \"Princesse Madness\",\n  artistCompany: \"Lez'art du Corps - Paris\",\n  artistPhotoLink: \"../../avatarsTatoueurs/41450515_1897257143642841_5668628696324374528_n.jpg\",\n  artistAddress: \"10 Rue Gambey, 75011 Paris, France, 75011 Paris\",\n  artistStyle: [\"Tribal\", \"OldSchool\"],\n  artistAddressLat: 48.865267,\n  artistAddressLon: 2.371948\n}, {\n  artistNickname: \"Bichon\",\n  artistCompany: \"The Golden Rabbit Tattoo\",\n  artistPhotoLink: \"../../avatarsTatoueurs/11201563_749803451831654_737090053_a.jpg\",\n  artistAddress: \"12 Rue Saint-Denis, 75002 Paris\",\n  artistStyle: [\"Japopnais\", \"Postmodern\"],\n  artistAddressLat: 48.858941,\n  artistAddressLon: 2.347756\n}, {\n  artistNickname: \"Princesse Madness\",\n  artistCompany: \"Lez'art du Corps - Paris\",\n  artistPhotoLink: \"../../avatarsTatoueurs/41450515_1897257143642841_5668628696324374528_n.jpg\",\n  artistAddress: \"10 Rue Gambey, 75011 Paris, France, 75011 Paris\",\n  artistStyle: [\"Tribal\", \"OldSchool\"],\n  artistAddressLat: 48.865267,\n  artistAddressLon: 2.371948\n}]; //// Enrichissement de la base de données tatoueurs avec coordonnées GPS ////\n// Partie à mettre dans le back\n\nvar ArtistDBAddress = ArtistDB.map(function (a) {\n  return a.artistAddress;\n});\nvar ArtistTempCoordinates = [];\n\nfor (var i = 0; i < ArtistDBAddress.length; i++) {\n  var j = 0; // To learn more on how to convert addresses to coordinates, check this simple website : https://dzone.com/articles/mapboxs-api-to-geocode-data-to-get-location-inform\n\n  fetch('https://api.mapbox.com/geocoding/v5/mapbox.places/' + ArtistDBAddress[i] + '.json?access_token=pk.eyJ1IjoiZml0emZvdWZvdSIsImEiOiJjam9nMGlkMXowOTkzM3h0N3E5am45b3hxIn0.IBgvst88EucTyqijWWnpSg').then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    ArtistDB[j].artistAddressLat = data.features[0].center[1];\n    ArtistDB[j].artistAddressLon = data.features[0].center[0];\n    j++;\n    console.log(ArtistDB);\n  }).catch(function (error) {\n    console.log('Request failed', error);\n  });\n} ///test\n//// Composant qui affiche tous ////\n\n\nvar ArtistPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ArtistPage, _Component);\n\n  function ArtistPage() {\n    _classCallCheck(this, ArtistPage);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ArtistPage).apply(this, arguments));\n  }\n\n  _createClass(ArtistPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // create map\n      this.map = L.map('map', {\n        center: [48.852969, 2.349903],\n        zoom: 12,\n        layers: [L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {\n          attribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n        })]\n      });\n\n      for (var i = 0; i < ArtistDBAddress.length; i++) {\n        // Add marker\n        this.marker = L.marker([ArtistDB[i].artistAddressLat, ArtistDB[i].artistAddressLon]).addTo(this.map); // Add popup to marker with artistNickname\n\n        this.marker.bindPopup(ArtistDB[i].artistNickname);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var artistListCards = ArtistDB.map(function (artist, i) {\n        return React.createElement(ArtistCard, {\n          key: i,\n          artistNickname: artist.artistNickname,\n          artistCompany: artist.artistCompany,\n          artistStyle: artist.artistStyle.join(\" \"),\n          artistPhotoLink: artist.artistPhotoLink,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        });\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(NavBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: \"12\",\n        md: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, artistListCards)), React.createElement(Col, {\n        xs: \"12\",\n        md: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"map\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return ArtistPage;\n}(Component);\n\nexport default ArtistPage;","map":{"version":3,"sources":["/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/FindMyTattooFront/src/Screens/ArtistPage.js"],"names":["React","Component","NavBar","ArtistCard","Container","Row","Col","L","ArtistDB","artistNickname","artistCompany","artistPhotoLink","artistAddress","artistStyle","artistAddressLat","artistAddressLon","ArtistDBAddress","map","a","ArtistTempCoordinates","i","length","j","fetch","then","response","json","data","features","center","console","log","catch","error","ArtistPage","zoom","layers","tileLayer","attribution","marker","addTo","bindPopup","artistListCards","artist","join"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\n//Import des composants externes\nimport NavBar from '../Components/NavBar.js';\nimport ArtistCard from '../Components/ArtistCard.js';\n\n//Import des librairies ou composants de style\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Container, Row, Col}  from 'reactstrap';\nimport '../Stylesheets/ArtistPage.css';\n\n//Import de la librairie leaflet / open street map\nimport L from 'leaflet';\n\n\n//// Simulation de base de données ////\n\n//Les coordonnées GPS ont été mises en dur dans la BDD pour des raisons d'asynchronicité du fetch. Il faudra fetcher les coordonnées GPS directement dans le back pour contourner ce problème\nvar ArtistDB = [\n  {\n    artistNickname : \"Bichon\",\n    artistCompany : \"The Golden Rabbit Tattoo\",\n    artistPhotoLink : \"../../avatarsTatoueurs/11201563_749803451831654_737090053_a.jpg\",\n    artistAddress: \"16 Rue Geoffroy-Marie, 75009 Paris\",\n    artistStyle : [\"Japopnais\", \"Postmodern\"],\n    artistAddressLat: 48.873806,\n    artistAddressLon: 2.344659\n },\n {\n   artistNickname : \"Princesse Madness\",\n   artistCompany : \"Lez'art du Corps - Paris\",\n   artistPhotoLink : \"../../avatarsTatoueurs/41450515_1897257143642841_5668628696324374528_n.jpg\",\n   artistAddress: \"10 Rue Gambey, 75011 Paris, France, 75011 Paris\",\n   artistStyle : [\"Tribal\", \"OldSchool\"],\n   artistAddressLat: 48.865267,\n   artistAddressLon: 2.371948\n },\n {\n   artistNickname : \"Bichon\",\n   artistCompany : \"The Golden Rabbit Tattoo\",\n   artistPhotoLink : \"../../avatarsTatoueurs/11201563_749803451831654_737090053_a.jpg\",\n   artistAddress: \"12 Rue Saint-Denis, 75002 Paris\",\n   artistStyle : [\"Japopnais\", \"Postmodern\"],\n   artistAddressLat: 48.858941,\n   artistAddressLon: 2.347756\n},\n{\n  artistNickname : \"Princesse Madness\",\n  artistCompany : \"Lez'art du Corps - Paris\",\n  artistPhotoLink : \"../../avatarsTatoueurs/41450515_1897257143642841_5668628696324374528_n.jpg\",\n  artistAddress: \"10 Rue Gambey, 75011 Paris, France, 75011 Paris\",\n  artistStyle : [\"Tribal\", \"OldSchool\"],\n  artistAddressLat: 48.865267,\n  artistAddressLon: 2.371948\n}\n];\n\n//// Enrichissement de la base de données tatoueurs avec coordonnées GPS ////\n// Partie à mettre dans le back\n\nvar ArtistDBAddress=ArtistDB.map(a=>a.artistAddress);\nvar ArtistTempCoordinates =[];\n\nfor (var i = 0; i < ArtistDBAddress.length; i++) {\n  var j=0;\n  // To learn more on how to convert addresses to coordinates, check this simple website : https://dzone.com/articles/mapboxs-api-to-geocode-data-to-get-location-inform\n  fetch('https://api.mapbox.com/geocoding/v5/mapbox.places/'+ ArtistDBAddress[i]+'.json?access_token=pk.eyJ1IjoiZml0emZvdWZvdSIsImEiOiJjam9nMGlkMXowOTkzM3h0N3E5am45b3hxIn0.IBgvst88EucTyqijWWnpSg')\n  .then(function(response) {\n      return response.json();\n  })\n  .then(function(data) {\n    ArtistDB[j].artistAddressLat = data.features[0].center[1];\n    ArtistDB[j].artistAddressLon = data.features[0].center[0];\n    j++;\n    console.log(ArtistDB);\n  })\n  .catch(function(error) {\n      console.log('Request failed', error)\n  });\n}\n\n///test\n\n//// Composant qui affiche tous ////\n\nclass ArtistPage extends Component{\n\n  componentDidMount() {\n    // create map\n    this.map = L.map('map', {\n      center: [48.852969, 2.349903],\n      zoom: 12,\n      layers: [\n        L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {\n          attribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n        }),\n      ]\n    });\n\n    for (var i = 0; i < ArtistDBAddress.length; i++) {\n      // Add marker\n      this.marker = L.marker([ArtistDB[i].artistAddressLat, ArtistDB[i].artistAddressLon]).addTo(this.map);\n      // Add popup to marker with artistNickname\n      this.marker.bindPopup(ArtistDB[i].artistNickname);\n    }\n  }\n  render(){\n    var artistListCards = ArtistDB.map(function(artist,i){\n      return <ArtistCard\n        key={i}\n        artistNickname={artist.artistNickname}\n        artistCompany={artist.artistCompany}\n        artistStyle={artist.artistStyle.join(\" \")}\n        artistPhotoLink={artist.artistPhotoLink}/>\n    });\n\n    return(\n      <div >\n        <NavBar/>\n        <Container>\n          <Row>\n            <Col xs=\"12\" md=\"6\">\n              <Row>\n                {artistListCards}\n              </Row>\n            </Col>\n            <Col xs=\"12\" md=\"6\">\n              <div id=\"map\"></div>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    )\n  }\n}\n\n\n\n\nexport default ArtistPage;\n"]},"metadata":{},"sourceType":"module"}