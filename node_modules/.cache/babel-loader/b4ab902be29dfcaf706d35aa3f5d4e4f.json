{"ast":null,"code":"import _toConsumableArray from \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/fmtpart2front/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/fmtpart2front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/fmtpart2front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/fmtpart2front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/fmtpart2front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/fmtpart2front/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/fmtpart2front/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/fmtpart2front/src/Screens/GalleryPage.js\";\nimport React, { Component } from 'react';\nimport 'reactstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../Stylesheets/GalleryPage.css';\nimport { connect } from 'react-redux';\nimport HomePage from './HomePage.js';\nimport NavBar from '../Components/NavBar.js';\nimport CardTatoo from '../Components/CardTatoo.js';\nimport TattooModal from '../Components/TattooModal.js';\n\nvar GalleryPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(GalleryPage, _Component);\n\n  function GalleryPage(props) {\n    var _this;\n\n    _classCallCheck(this, GalleryPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(GalleryPage).call(this, props));\n    _this.toggle = _this.toggle.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      collapse: false,\n      pictureData: [],\n      artistData: []\n    };\n    return _this;\n  }\n\n  _createClass(GalleryPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var ctx = this; //collecter les artists pour les stocker dans Redux\n\n      fetch('http://localhost:3000/artists').then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        var artistsDataCopy = _toConsumableArray(ctx.state.artistData);\n\n        data.map(function (map) {\n          artistsDataCopy.push(map);\n        });\n        ctx.setState({\n          artistData: artistsDataCopy\n        });\n      }).catch(function (error) {\n        console.log('Request failed', error);\n      }); // collecter les photos pour les stocker sur Redux et pour les afficher dans la galerie\n\n      fetch('http://localhost:3000/tattoos').then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        var pictureDataCopy = _toConsumableArray(ctx.state.pictureData);\n\n        data.map(function (map) {\n          pictureDataCopy.push(map);\n        });\n        ctx.setState({\n          pictureData: pictureDataCopy\n        });\n      }).catch(function (error) {\n        console.log('Request failed', error);\n      });\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      this.setState({\n        collapse: !this.state.collapse\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // console.log(\"Je capte le back ?\", this.state.pictureData);\n      //create a CardTattoo for each tattoo picture in mLab \n      var pictureList = this.state.pictureData.map(function (map, i) {\n        return React.createElement(CardTatoo, {\n          key: i,\n          tattooId: map._id,\n          tattooPhotoLink: map.tattooPhotoLink,\n          artistId: map.artistID,\n          tattooStyleList: map.tattooStyleList,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        });\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(NavBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), React.createElement(HomePage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), React.createElement(TattooModal, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row gallery-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, pictureList)));\n    }\n  }]);\n\n  return GalleryPage;\n}(Component);\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    onIncreaseClick: function onIncreaseClick() {\n      dispatch({\n        type: 'addArtists'\n      });\n    }\n  };\n}\n\nexport default connect(null, mapDispatchToProps)(GalleryPage);","map":{"version":3,"sources":["/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/fmtpart2front/src/Screens/GalleryPage.js"],"names":["React","Component","connect","HomePage","NavBar","CardTatoo","TattooModal","GalleryPage","props","toggle","bind","state","collapse","pictureData","artistData","ctx","fetch","then","response","json","data","artistsDataCopy","map","push","setState","catch","error","console","log","pictureDataCopy","pictureList","i","_id","tattooPhotoLink","artistID","tattooStyleList","mapDispatchToProps","dispatch","onIncreaseClick","type"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAiB,YAAjB;AACA,OAAO,sCAAP;AACA,OAAO,gCAAP;AAEA,SAAQC,OAAR,QAAsB,aAAtB;AAEA,OAAOC,QAAP,MAAqB,eAArB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AACA,OAAOC,WAAP,MAAwB,8BAAxB;;IAGMC,W;;;;;AACJ,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,qFAAMA,KAAN;AACA,UAAKC,MAAL,GAAc,MAAKA,MAAL,CAAYC,IAAZ,uDAAd;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE,KADC;AAEXC,MAAAA,WAAW,EAAC,EAFD;AAGXC,MAAAA,UAAU,EAAC;AAHA,KAAb;AAHiB;AAQlB;;;;wCAEkB;AACjB,UAAIC,GAAG,GAAG,IAAV,CADiB,CAGjB;;AACDC,MAAAA,KAAK,CAAC,+BAAD,CAAL,CACCC,IADD,CACM,UAASC,QAAT,EAAkB;AACvB,eAAOA,QAAQ,CAACC,IAAT,EAAP;AACA,OAHD,EAICF,IAJD,CAIM,UAASG,IAAT,EAAc;AACnB,YAAIC,eAAe,sBAAON,GAAG,CAACJ,KAAJ,CAAUG,UAAjB,CAAnB;;AACAM,QAAAA,IAAI,CAACE,GAAL,CAAS,UAASA,GAAT,EAAa;AACpBD,UAAAA,eAAe,CAACE,IAAhB,CAAqBD,GAArB;AACD,SAFD;AAGAP,QAAAA,GAAG,CAACS,QAAJ,CAAa;AACXV,UAAAA,UAAU,EAAEO;AADD,SAAb;AAGA,OAZD,EAaCI,KAbD,CAaO,UAASC,KAAT,EAAe;AACrBC,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BF,KAA9B;AACA,OAfD,EAJkB,CAqBlB;;AACAV,MAAAA,KAAK,CAAC,+BAAD,CAAL,CACCC,IADD,CACM,UAASC,QAAT,EAAmB;AACvB,eAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,OAHD,EAICF,IAJD,CAIM,UAASG,IAAT,EAAe;AACnB,YAAIS,eAAe,sBAAOd,GAAG,CAACJ,KAAJ,CAAUE,WAAjB,CAAnB;;AACAO,QAAAA,IAAI,CAACE,GAAL,CAAS,UAASA,GAAT,EAAa;AACpBO,UAAAA,eAAe,CAACN,IAAhB,CAAqBD,GAArB;AACD,SAFD;AAGAP,QAAAA,GAAG,CAACS,QAAJ,CAAa;AACXX,UAAAA,WAAW,EAAEgB;AADF,SAAb;AAGD,OAZD,EAaCJ,KAbD,CAaO,UAASC,KAAT,EAAgB;AACrBC,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BF,KAA9B;AACD,OAfD;AAgBD;;;6BAES;AACP,WAAKF,QAAL,CAAc;AACZZ,QAAAA,QAAQ,EAAE,CAAC,KAAKD,KAAL,CAAWC;AADV,OAAd;AAGD;;;6BACO;AACN;AAEA;AACA,UAAIkB,WAAW,GAAG,KAAKnB,KAAL,CAAWE,WAAX,CAAuBS,GAAvB,CAA2B,UAASA,GAAT,EAAcS,CAAd,EAAgB;AAC3D,eAAO,oBAAC,SAAD;AACL,UAAA,GAAG,EAAEA,CADA;AAEL,UAAA,QAAQ,EAAET,GAAG,CAACU,GAFT;AAGL,UAAA,eAAe,EAAEV,GAAG,CAACW,eAHhB;AAIL,UAAA,QAAQ,EAAEX,GAAG,CAACY,QAJT;AAKL,UAAA,eAAe,EAAEZ,GAAG,CAACa,eALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AAMD,OAPiB,CAAlB;AAQA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,EAIE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACCL,WADD,CADF,CAJF,CADF;AAYD;;;;EAhFuB7B,S;;AAmF1B,SAASmC,kBAAT,CAA4BC,QAA5B,EAAsC;AACpC,SAAO;AACLC,IAAAA,eAAe,EAAE,2BAAW;AACxBD,MAAAA,QAAQ,CAAE;AACRE,QAAAA,IAAI,EAAE;AADE,OAAF,CAAR;AAIH;AANI,GAAP;AAMK;;AAEP,eAAerC,OAAO,CAClB,IADkB,EAElBkC,kBAFkB,CAAP,CAES7B,WAFT,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport {  } from 'reactstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../Stylesheets/GalleryPage.css'\n\nimport {connect} from 'react-redux';\n\nimport HomePage from './HomePage.js'\nimport NavBar from '../Components/NavBar.js';\nimport CardTatoo from '../Components/CardTatoo.js';\nimport TattooModal from '../Components/TattooModal.js';\n\n\nclass GalleryPage extends Component{\n  constructor(props) {\n    super(props);\n    this.toggle = this.toggle.bind(this);\n    this.state = { \n      collapse: false, \n      pictureData:[],\n      artistData:[]\n    };\n  }\n\n  componentDidMount(){\n    var ctx = this;\n    \n    //collecter les artists pour les stocker dans Redux\n   fetch('http://localhost:3000/artists')\n   .then(function(response){\n    return response.json();\n   })\n   .then(function(data){\n    var artistsDataCopy = [...ctx.state.artistData]\n    data.map(function(map){\n      artistsDataCopy.push(map)\n    })\n    ctx.setState({ \n      artistData: artistsDataCopy\n     });\n   })\n   .catch(function(error){\n    console.log('Request failed', error)\n   })\n\n   // collecter les photos pour les stocker sur Redux et pour les afficher dans la galerie\n   fetch('http://localhost:3000/tattoos')\n   .then(function(response) {\n     return response.json();\n   })\n   .then(function(data) {\n     var pictureDataCopy = [...ctx.state.pictureData]\n     data.map(function(map){\n       pictureDataCopy.push(map)\n     })\n     ctx.setState({ \n       pictureData: pictureDataCopy\n      });\n   })\n   .catch(function(error) {\n     console.log('Request failed', error)\n   });\n }\n\n  toggle() {\n    this.setState({ \n      collapse: !this.state.collapse \n    });\n  }\n  render(){\n    // console.log(\"Je capte le back ?\", this.state.pictureData);\n\n    //create a CardTattoo for each tattoo picture in mLab \n    let pictureList = this.state.pictureData.map(function(map, i){\n      return <CardTatoo\n        key={i}\n        tattooId={map._id}\n        tattooPhotoLink={map.tattooPhotoLink}\n        artistId={map.artistID}\n        tattooStyleList={map.tattooStyleList}  />\n    })\n    return(\n      <div>\n        <NavBar />\n        <HomePage />\n        <TattooModal />\n        <div className=\"container\">\n          <div className=\"row gallery-container\">\n          {pictureList}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    onIncreaseClick: function() { \n        dispatch( {\n          type: 'addArtists',\n\n      } ) \n    }}}\n\nexport default connect(\n    null, \n    mapDispatchToProps)(GalleryPage);\n"]},"metadata":{},"sourceType":"module"}