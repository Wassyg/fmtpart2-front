{"ast":null,"code":"import _toConsumableArray from \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/FindMyTattooFront/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/FindMyTattooFront/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/FindMyTattooFront/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/FindMyTattooFront/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/FindMyTattooFront/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/FindMyTattooFront/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/FindMyTattooFront/src/Screens/ArtistPage.js\";\nimport React, { Component } from 'react'; //Import des composants externes\n\nimport NavBar from '../Components/NavBar.js';\nimport ArtistCard from '../Components/ArtistCard.js'; //Import des librairies ou composants de style\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Container, Row, Col } from 'reactstrap';\nimport '../Stylesheets/ArtistPage.css'; //Import de la librairie leaflet / open street map\n\nimport L from 'leaflet'; //// Composant qui affiche tous ////\n\nvar ArtistPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ArtistPage, _Component);\n\n  function ArtistPage(props) {\n    var _this;\n\n    _classCallCheck(this, ArtistPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ArtistPage).call(this, props));\n    _this.state = {\n      collapse: false,\n      artistData: []\n    };\n    return _this;\n  }\n\n  _createClass(ArtistPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // find all artist\n      var ctx = this;\n      fetch('http://localhost:3000/artists').then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        var artistDataCopy = _toConsumableArray(ctx.state.artistData);\n\n        data.map(function (map) {\n          artistDataCopy.push(map);\n        });\n        ctx.setState({\n          artistData: artistDataCopy\n        });\n\n        for (var i = 0; i < ctx.state.artistData.length; i++) {\n          // Add marker\n          ctx.marker = L.marker([ctx.state.artistData[i].artistAddressLat, ctx.state.artistData[i].artistAddressLon]).addTo(ctx.map); // Add popup to marker with artistNickname\n\n          ctx.marker.bindPopup(ctx.state.artistData[i].artistNickname);\n        }\n      }).catch(function (error) {\n        console.log('Request failed', error);\n      }); // create map\n\n      this.map = L.map('map', {\n        center: [48.852969, 2.349903],\n        zoom: 12,\n        layers: [L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {\n          attribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n        })]\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var artistListCards = this.state.artistData.map(function (artist, i) {\n        return React.createElement(ArtistCard, {\n          key: i,\n          artistNickname: artist.artistNickname,\n          artistCompany: artist.artistCompany,\n          artistStyle: artist.artistStyleList.join(\" \"),\n          artistPhotoLink: artist.artistPhotoLink,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        });\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(NavBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: \"12\",\n        md: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, artistListCards)), React.createElement(Col, {\n        xs: \"12\",\n        md: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"map\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return ArtistPage;\n}(Component);\n\nexport default ArtistPage;","map":{"version":3,"sources":["/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/FindMyTattooFront/src/Screens/ArtistPage.js"],"names":["React","Component","NavBar","ArtistCard","Container","Row","Col","L","ArtistPage","props","state","collapse","artistData","ctx","fetch","then","response","json","data","artistDataCopy","map","push","setState","i","length","marker","artistAddressLat","artistAddressLon","addTo","bindPopup","artistNickname","catch","error","console","log","center","zoom","layers","tileLayer","attribution","artistListCards","artist","artistCompany","artistStyleList","join","artistPhotoLink"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\n//Import des composants externes\nimport NavBar from '../Components/NavBar.js';\nimport ArtistCard from '../Components/ArtistCard.js';\n\n//Import des librairies ou composants de style\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Container, Row, Col}  from 'reactstrap';\nimport '../Stylesheets/ArtistPage.css';\n\n//Import de la librairie leaflet / open street map\nimport L from 'leaflet';\n\n\n\n//// Composant qui affiche tous ////\n\nclass ArtistPage extends Component{\n\n  constructor(props) {\n    super(props);\n    this.state = { collapse: false , artistData:[]};\n  }\n\n  componentDidMount() {\n    // find all artist\n    var ctx = this;\n    fetch('http://localhost:3000/artists')\n    .then(function(response) {\n      return response.json();\n    })\n    .then(function(data) {\n      let artistDataCopy = [...ctx.state.artistData]\n      data.map(function(map){\n         artistDataCopy.push(map)\n\n      })\n      ctx.setState({artistData: artistDataCopy});\n\n      for (var i = 0; i < ctx.state.artistData.length; i++) {\n        // Add marker\n        ctx.marker = L.marker([ctx.state.artistData[i].artistAddressLat, ctx.state.artistData[i].artistAddressLon]).addTo(ctx.map);\n        // Add popup to marker with artistNickname\n        ctx.marker.bindPopup(ctx.state.artistData[i].artistNickname);\n      }\n\n    })\n    .catch(function(error) {\n      console.log('Request failed', error)\n    });\n\n    // create map\n    this.map = L.map('map', {\n      center: [48.852969, 2.349903],\n      zoom: 12,\n      layers: [\n        L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {\n          attribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n        }),\n      ]\n    });\n\n\n  }\n  render(){\n\n    var artistListCards = this.state.artistData.map(function(artist,i){\n      return <ArtistCard\n        key={i}\n        artistNickname={artist.artistNickname}\n        artistCompany={artist.artistCompany}\n        artistStyle={artist.artistStyleList.join(\" \")}\n        artistPhotoLink={artist.artistPhotoLink}/>\n    });\n\n    return(\n      <div >\n        <NavBar/>\n        <Container>\n          <Row>\n            <Col xs=\"12\" md=\"6\">\n              <Row>\n                {artistListCards}\n              </Row>\n            </Col>\n            <Col xs=\"12\" md=\"6\">\n              <div id=\"map\"></div>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    )\n  }\n}\n\n\n\n\nexport default ArtistPage;\n"]},"metadata":{},"sourceType":"module"}