{"ast":null,"code":"import _classCallCheck from \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/fmtpart2front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/fmtpart2front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/fmtpart2front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/fmtpart2front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/fmtpart2front/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/fmtpart2front/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/fmtpart2front/src/Components/TattooArtistCardModal.js\";\n//fiche artiste qui se trouve à l'intérieur du TattooModal lorsqu'on cherche à agrandir une photo\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux'; //Import des librairies ou composants de style\n\nimport '../Stylesheets/TattooArtistCardModal.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Card, CardText, CardBody, CardTitle, CardSubtitle, Button, Row, Col, Badge } from 'reactstrap';\nimport ProjectForm from '../Components/ProjectForm.js';\nimport AuthForm from '../Components/AuthForm.js';\nimport url from '../config.js';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faStar, faMapMarkerAlt, faHeart, faEnvelope, faTimesCircle } from '@fortawesome/free-solid-svg-icons';\n\nvar TattooArtistCardModal =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TattooArtistCardModal, _Component);\n\n  function TattooArtistCardModal(props) {\n    var _this;\n\n    _classCallCheck(this, TattooArtistCardModal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TattooArtistCardModal).call(this, props));\n\n    _this.handleArtistLike = function (props) {\n      if (_this.props.userId == null) {\n        _this.setState({\n          clickOnForm: !_this.state.clickOnForm\n        });\n      } else {\n        var ctx = _assertThisInitialized(_assertThisInitialized(_this));\n\n        if (_this.state.classLike === false) {\n          fetch('http://localhost:3000/userlikeartist', {\n            method: 'PUT',\n            headers: {\n              'Content-Type': 'application/x-www-form-urlencoded'\n            },\n            body: 'favArtistNickname=' + ctx.state.artistNickname + '&favArtistCompanyName=' + ctx.state.artistCompanyName + '&favArtistAddress=' + ctx.state.artistAddress + '&favArtistDescription=' + ctx.state.artistDescription + '&favArtistPhotoLink=' + ctx.state.artistPhotoLink + '&favArtistStyleList1=' + ctx.state.artistStyleList1 + '&favArtistStyleList2=' + ctx.state.artistStyleList2 + '&favArtistStyleList3=' + ctx.state.artistStyleList3 + '&favArtistNote=' + ctx.state.artistNote + '&favArtistID=' + ctx.props.dataModal.favArtistID + '&user_id=' + ctx.props.userId\n          });\n        } else {\n          fetch('http://localhost:3000/userdislikeartist', {\n            method: 'PUT',\n            headers: {\n              'Content-Type': 'application/x-www-form-urlencoded'\n            },\n            body: 'favArtistID=' + ctx.props.dataModal.favArtistID + '&user_id=' + ctx.props.userId\n          });\n        }\n\n        _this.setState({\n          classLike: !_this.state.classLike\n        });\n      }\n    };\n\n    _this.handleClickSend = _this.handleClickSend.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      classLike: false,\n      clickToSend: false,\n      artistNickname: _this.props.artistNickname,\n      artistCompanyName: _this.props.artistCompanyName,\n      artistAddress: _this.props.artistAddress,\n      artistStyleList1: _this.props.artistStyleList1,\n      artistStyleList2: _this.props.artistStyleList2,\n      artistStyleList3: _this.props.artistStyleList3,\n      artistDescription: _this.props.artistDescription,\n      artistPhotoLink: _this.props.artistPhotoLink,\n      clickOnForm: false // artistsList: []\n\n    };\n    return _this;\n  }\n\n  _createClass(TattooArtistCardModal, [{\n    key: \"handleClickSend\",\n    value: function handleClickSend(props) {\n      this.setState({\n        clickToSend: !this.state.clickToSend\n      });\n    } // handleClick(props){\n    //   if(this.props.userId == null){\n    //     this.setState({\n    //       clickOnForm: !this.state.clickOnForm,\n    //     })\n    //   } else if (this.props.userId){\n    //     this.setState({\n    //       clickToSend: !this.state.clickToSend\n    //     })\n    //   }\n    // }\n    //grace au reducer récupérer l'ID de l'artiste pour fetcher ses informations\n\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var ctx = this;\n      fetch('http://localhost:3000/artist?artist_id=' + this.props.dataModal.favArtistID).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        ctx.setState({\n          clickToSend: false,\n          artistNickname: data.result.artistNickname,\n          artistCompanyName: data.result.artistCompanyName,\n          artistAddress: data.result.artistAddress,\n          artistStyleList1: data.result.artistStyleList[0],\n          artistStyleList2: data.result.artistStyleList[1],\n          artistStyleList3: data.result.artistStyleList[2],\n          artistDescription: data.result.artistDescription,\n          artistPhotoLink: data.result.artistPhotoLink,\n          artistNote: data.result.artistNote\n        });\n      }).catch(function (error) {\n        console.log('Request failed', error);\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.dataModal.clickOnTattoo !== prevProps.dataModal.clickOnTattoo && this.props.dataModal.clickOnTattoo === true) {\n        console.log(this.props.dataModal.clickOnTattoo);\n        console.log(\"update\");\n        var ctx = this;\n        fetch('http://localhost:3000/artist?artist_id=' + this.props.dataModal.favArtistID).then(function (response) {\n          return response.json();\n        }).then(function (data) {\n          ctx.setState({\n            clickToSend: false,\n            artistNickname: data.result.artistNickname,\n            artistCompanyName: data.result.artistCompanyName,\n            artistAddress: data.result.artistAddress,\n            artistStyleList1: data.result.artistStyleList[0],\n            artistStyleList2: data.result.artistStyleList[1],\n            artistStyleList3: data.result.artistStyleList[2],\n            artistDescription: data.result.artistDescription,\n            artistPhotoLink: data.result.artistPhotoLink,\n            artistNote: data.result.artistNote\n          });\n        }).catch(function (error) {\n          console.log('Request failed', error);\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Card, {\n        id: \"artistInfoBoxModal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(AuthForm, {\n        clickOnForm: this.state.clickOnForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }), React.createElement(Col, {\n        xs: \"4\",\n        id: \"artistInfoLeftBoxModal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: this.state.artistPhotoLink,\n        alt: \"\",\n        id: \"artistImageModal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"artistStarRateModal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(FontAwesomeIcon, {\n        icon: faStar,\n        className: \"artistStarIconModal fa-xs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }), React.createElement(FontAwesomeIcon, {\n        icon: faStar,\n        className: \"artistStarIconModal fa-xs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }), React.createElement(FontAwesomeIcon, {\n        icon: faStar,\n        className: \"artistStarIconModal fa-xs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }), React.createElement(FontAwesomeIcon, {\n        icon: faStar,\n        className: \"artistStarIconModal fa-xs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(FontAwesomeIcon, {\n        icon: faStar,\n        className: \"artistStarIconModal fa-xs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      })), !this.state.classLike ? React.createElement(Button, {\n        outline: true,\n        color: \"success\",\n        size: \"sm\",\n        className: \"artistButtonModal\",\n        onClick: function onClick() {\n          return _this2.handleArtistLike();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(FontAwesomeIcon, {\n        icon: faHeart,\n        className: \"fa-xs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }), \" Garder\") : React.createElement(Button, {\n        outline: true,\n        color: \"secondary\",\n        size: \"sm\",\n        className: \"artistButtonModal\",\n        onClick: function onClick() {\n          return _this2.handleArtistLike();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(FontAwesomeIcon, {\n        icon: faTimesCircle,\n        className: \"fa-xs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }), \" Retirer\"), React.createElement(Button, {\n        outline: true,\n        color: \"success\",\n        size: \"sm\",\n        className: \"artistButtonModal\",\n        onClick: this.handleClickSend,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(ProjectForm, {\n        clickToSend: this.state.clickToSend,\n        artistId: this.props.artistId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }), \" \", React.createElement(FontAwesomeIcon, {\n        icon: faEnvelope,\n        className: \"fa-xs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }), \" Contacter\")), React.createElement(Col, {\n        xs: \"8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(CardTitle, {\n        id: \"artistNameModal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, this.state.artistNickname), React.createElement(CardSubtitle, {\n        id: \"artistCompanyNameModal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, this.state.artistCompanyName), React.createElement(CardText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, this.state.artistDescription), React.createElement(\"div\", {\n        id: \"artistAllBadgeModal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(Badge, {\n        color: \"info\",\n        pill: true,\n        className: \"artistStyleBadgeModal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, this.state.artistStyleList1)), React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(Badge, {\n        color: \"info\",\n        pill: true,\n        className: \"artistStyleBadgeModal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, this.state.artistStyleList2)), React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(Badge, {\n        color: \"info\",\n        pill: true,\n        className: \"artistStyleBadgeModal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, this.state.artistStyleList3)))), React.createElement(CardText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(FontAwesomeIcon, {\n        icon: faMapMarkerAlt,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }), \" \", this.state.artistAddress)))));\n    }\n  }]);\n\n  return TattooArtistCardModal;\n}(Component);\n\n;\n\nfunction mapStateToProps(store) {\n  return {\n    userId: store.user._id,\n    dataModal: store.dataModal\n  };\n}\n\nexport default connect(mapStateToProps, null)(TattooArtistCardModal);","map":{"version":3,"sources":["/Users/wassimaguerro/Desktop/La Capsule/zz-FindMyTattooMVP/fmtpart2front/src/Components/TattooArtistCardModal.js"],"names":["React","Component","connect","Card","CardText","CardBody","CardTitle","CardSubtitle","Button","Row","Col","Badge","ProjectForm","AuthForm","url","FontAwesomeIcon","faStar","faMapMarkerAlt","faHeart","faEnvelope","faTimesCircle","TattooArtistCardModal","props","handleArtistLike","userId","setState","clickOnForm","state","ctx","classLike","fetch","method","headers","body","artistNickname","artistCompanyName","artistAddress","artistDescription","artistPhotoLink","artistStyleList1","artistStyleList2","artistStyleList3","artistNote","dataModal","favArtistID","handleClickSend","bind","clickToSend","then","response","json","data","result","artistStyleList","catch","error","console","log","prevProps","clickOnTattoo","artistId","mapStateToProps","store","user","_id"],"mappings":"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","sourcesContent":["//fiche artiste qui se trouve à l'intérieur du TattooModal lorsqu'on cherche à agrandir une photo\nimport React, { Component } from 'react';\nimport {connect} from 'react-redux';\n\n//Import des librairies ou composants de style\nimport '../Stylesheets/TattooArtistCardModal.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Card, CardText, CardBody, CardTitle, CardSubtitle, Button, Row, Col, Badge} from 'reactstrap';\n\nimport ProjectForm from '../Components/ProjectForm.js'\nimport AuthForm from '../Components/AuthForm.js';\nimport url from '../config.js';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faStar, faMapMarkerAlt, faHeart, faEnvelope, faTimesCircle } from '@fortawesome/free-solid-svg-icons'\n\n\nclass TattooArtistCardModal extends Component {\n  constructor(props) {\n    super(props);\n    this.handleClickSend = this.handleClickSend.bind(this);\n    this.state = {\n      classLike : false,\n      clickToSend: false,\n      artistNickname: this.props.artistNickname,\n      artistCompanyName: this.props.artistCompanyName,\n      artistAddress: this.props.artistAddress,\n      artistStyleList1: this.props.artistStyleList1,\n      artistStyleList2: this.props.artistStyleList2,\n      artistStyleList3: this.props.artistStyleList3,\n      artistDescription:this.props.artistDescription,\n      artistPhotoLink:this.props.artistPhotoLink,\n      clickOnForm: false\n      // artistsList: []\n    }\n  }\n  handleClickSend(props){\n    this.setState({\n      clickToSend: !this.state.clickToSend\n    })\n  }\n\n  // handleClick(props){\n  //   if(this.props.userId == null){\n  //     this.setState({\n  //       clickOnForm: !this.state.clickOnForm,\n  //     })\n  //   } else if (this.props.userId){\n  //     this.setState({\n  //       clickToSend: !this.state.clickToSend\n  //     })\n  //   }\n  // }\n\n//grace au reducer récupérer l'ID de l'artiste pour fetcher ses informations\n  componentDidMount(){\n    var ctx = this;\n    fetch('http://localhost:3000/artist?artist_id='+ this.props.dataModal.favArtistID)\n    .then(function(response) {\n      return response.json();\n    })\n    .then(function(data) {\n       ctx.setState({\n         clickToSend: false,\n         artistNickname: data.result.artistNickname,\n         artistCompanyName: data.result.artistCompanyName,\n         artistAddress: data.result.artistAddress,\n         artistStyleList1: data.result.artistStyleList[0],\n         artistStyleList2: data.result.artistStyleList[1],\n         artistStyleList3: data.result.artistStyleList[2],\n         artistDescription: data.result.artistDescription,\n         artistPhotoLink: data.result.artistPhotoLink,\n         artistNote: data.result.artistNote\n         })\n       })\n     .catch(function(error) {\n      console.log('Request failed', error);\n    });\n  }\n\n  componentDidUpdate(prevProps){\n    if (this.props.dataModal.clickOnTattoo!==prevProps.dataModal.clickOnTattoo && this.props.dataModal.clickOnTattoo=== true){\n      console.log(this.props.dataModal.clickOnTattoo);\n      console.log(\"update\");\n      var ctx = this;\n      fetch('http://localhost:3000/artist?artist_id='+ this.props.dataModal.favArtistID)\n      .then(function(response) {\n        return response.json();\n      })\n      .then(function(data) {\n         ctx.setState({\n           clickToSend: false,\n           artistNickname: data.result.artistNickname,\n           artistCompanyName: data.result.artistCompanyName,\n           artistAddress: data.result.artistAddress,\n           artistStyleList1: data.result.artistStyleList[0],\n           artistStyleList2: data.result.artistStyleList[1],\n           artistStyleList3: data.result.artistStyleList[2],\n           artistDescription: data.result.artistDescription,\n           artistPhotoLink: data.result.artistPhotoLink,\n           artistNote: data.result.artistNote\n           })\n         })\n       .catch(function(error) {\n        console.log('Request failed', error);\n      });\n    }\n  }\n\n\n  handleArtistLike = (props) =>{\n    if(this.props.userId == null){\n      this.setState({\n        clickOnForm: !this.state.clickOnForm\n      })\n    }else{\n      var ctx = this;\n      if(this.state.classLike === false){\n        fetch('http://localhost:3000/userlikeartist', {\n        method: 'PUT',\n        headers: {'Content-Type':'application/x-www-form-urlencoded'},\n        body: 'favArtistNickname='+ctx.state.artistNickname+'&favArtistCompanyName='+ctx.state.artistCompanyName+'&favArtistAddress='+ctx.state.artistAddress+'&favArtistDescription='+ctx.state.artistDescription+'&favArtistPhotoLink='+ctx.state.artistPhotoLink+'&favArtistStyleList1='+ctx.state.artistStyleList1+'&favArtistStyleList2='+ctx.state.artistStyleList2+'&favArtistStyleList3='+ctx.state.artistStyleList3+'&favArtistNote='+ctx.state.artistNote+'&favArtistID='+ctx.props.dataModal.favArtistID+'&user_id='+ctx.props.userId\n        });\n      } else {\n        fetch('http://localhost:3000/userdislikeartist', {\n        method: 'PUT',\n        headers: {'Content-Type':'application/x-www-form-urlencoded'},\n        body: 'favArtistID='+ctx.props.dataModal.favArtistID+'&user_id='+ctx.props.userId\n        });\n      }\n      this.setState({classLike: !this.state.classLike});\n    }\n   }\n\n  render () {\n    return (\n\n      <Card id=\"artistInfoBoxModal\">\n        <CardBody>\n          <Row>\n            <AuthForm clickOnForm={this.state.clickOnForm}/>\n            <Col xs=\"4\" id=\"artistInfoLeftBoxModal\">\n              <img src={this.state.artistPhotoLink} alt=\"\" id=\"artistImageModal\" />\n              <div id=\"artistStarRateModal\">\n                <FontAwesomeIcon icon={faStar} className=\"artistStarIconModal fa-xs\"/>\n                <FontAwesomeIcon icon={faStar} className=\"artistStarIconModal fa-xs\"/>\n                <FontAwesomeIcon icon={faStar} className=\"artistStarIconModal fa-xs\"/>\n                <FontAwesomeIcon icon={faStar} className=\"artistStarIconModal fa-xs\"/>\n                <FontAwesomeIcon icon={faStar} className=\"artistStarIconModal fa-xs\"/>\n              </div>\n              {\n                !this.state.classLike ?\n                <Button outline color=\"success\" size=\"sm\" className=\"artistButtonModal\" onClick={()=>this.handleArtistLike()}><FontAwesomeIcon icon={faHeart} className=\"fa-xs\"/> Garder</Button>\n                  :\n                <Button outline color=\"secondary\" size=\"sm\" className=\"artistButtonModal\" onClick={()=>this.handleArtistLike()}><FontAwesomeIcon icon={faTimesCircle} className=\"fa-xs\"/> Retirer</Button>\n              }\n              <Button outline color=\"success\" size=\"sm\" className=\"artistButtonModal\" onClick={this.handleClickSend}>\n              <ProjectForm clickToSend={this.state.clickToSend} artistId={this.props.artistId}/> <FontAwesomeIcon icon={faEnvelope} className=\"fa-xs\"/> Contacter</Button>\n            </Col>\n            <Col xs=\"8\">\n              <CardTitle id=\"artistNameModal\">{this.state.artistNickname}</CardTitle>\n            <CardSubtitle id=\"artistCompanyNameModal\">{this.state.artistCompanyName}</CardSubtitle>\n              <CardText>{this.state.artistDescription}</CardText>\n              <div id = \"artistAllBadgeModal\">\n                <Row>\n                  <h6><Badge color=\"info\" pill className=\"artistStyleBadgeModal\">{this.state.artistStyleList1}</Badge></h6>\n                <h6><Badge color=\"info\" pill className=\"artistStyleBadgeModal\">{this.state.artistStyleList2}</Badge></h6>\n                  <h6><Badge color=\"info\" pill className=\"artistStyleBadgeModal\">{this.state.artistStyleList3}</Badge></h6>\n                </Row>\n              </div>\n              <CardText><FontAwesomeIcon icon={faMapMarkerAlt} /> {this.state.artistAddress}</CardText>\n            </Col>\n          </Row>\n        </CardBody>\n      </Card>\n\n\n    )\n  }\n};\n\nfunction mapStateToProps(store) {\n  return {\n     userId: store.user._id,\n     dataModal: store.dataModal\n  }\n}\n\nexport default connect(\n    mapStateToProps,\n    null\n)(TattooArtistCardModal);\n"]},"metadata":{},"sourceType":"module"}